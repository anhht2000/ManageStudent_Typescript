(this["webpackJsonpredux-saga"]=this["webpackJsonpredux-saga"]||[]).push([[0],{334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},338:function(e,t,n){"use strict";n.r(t);var a=n(416),c=n(87),r=n(0),i=n.n(r),o=n(15),s=n.n(o),l=n(65),u=n(79),d=n(162),j=n.n(d).a.create({baseURL:"http://js-post-api.herokuapp.com/api",headers:{"Content-type":"application/json"}});j.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),j.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var b=j,h={getAll:function(){return b.get("/cities",{params:{_page:1,_limit:10}})}},O=n(2),x=n(30),m=n(21);function p(e){return Boolean(localStorage.getItem("access_token"))?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m.b,Object(x.a)({},e))}):Object(O.jsx)(m.a,{to:"/login"})}var f=n(385),g=n(417),v=n(19),y=n(387),k=n(390),S=n(180),C=n(392),w=n(423),_=n(389),F=n(67),N=n(168),L=n.n(N),A=n(167),B=n.n(A),M=function(){return Object(l.d)()},D=l.e,I=n(38),z={isLoggedin:!1,logging:!1,currentUser:void 0},P=Object(I.c)({name:"auth",initialState:z,reducers:{login:function(e,t){e.logging=!0},loginSuccess:function(e,t){e.isLoggedin=!0,e.logging=!1,e.currentUser=t.payload},loginFail:function(e,t){e.logging=!1},logout:function(e){e.isLoggedin=!1,e.currentUser=void 0}}}),E=P.actions,T=E.login,R=E.loginSuccess,W=(E.loginFail,E.logout),H=function(e){return e.auth},U=P.reducer,q=Object(f.a)((function(e){return Object(w.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},positionMenu:{}})}));function G(){var e=q(),t=M(),n=i.a.useState(!0),a=Object(v.a)(n,2),c=a[0],r=(a[1],i.a.useState(null)),o=Object(v.a)(r,2),s=o[0],l=o[1],u=Boolean(s),d=function(){l(null)};return Object(O.jsx)("div",{className:e.root,children:Object(O.jsx)(y.a,{position:"static",children:Object(O.jsxs)(_.a,{children:[Object(O.jsx)(k.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(O.jsx)(B.a,{})}),Object(O.jsx)(F.a,{variant:"h6",className:e.title,children:"Admin Manager"}),c&&Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(O.jsx)(L.a,{})}),Object(O.jsxs)(S.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:d,classes:{paper:e.positionMenu},children:[Object(O.jsx)(C.a,{onClick:d,children:"Profile"}),Object(O.jsx)(C.a,{onClick:function(){t(W()),d()},children:"Log out"})]})]})]})})})}var V=n(391),J=n(340),K=n(393),$=n(395),Q=n(394),X=n(396),Y=n(40),Z=Object(f.a)((function(e){return Object(w.a)({root:{width:"100%",backgroundColor:e.palette.background.paper},link:{color:"inherit",textDecoration:"none"},activeLink:{display:"block",backgroundColor:"rgba(34,56,23,0.3)"}})}));function ee(){var e=Z(),t=Object(m.i)().url;return console.log(t),Object(O.jsx)("div",{className:e.root,children:Object(O.jsxs)(V.a,{component:"nav","aria-label":"main mailbox folders",children:[Object(O.jsx)(Y.b,{to:"".concat(t,"/dashboard"),className:e.link,activeClassName:e.activeLink,children:Object(O.jsxs)(J.a,{button:!0,children:[Object(O.jsx)(K.a,{children:Object(O.jsx)(Q.a,{})}),Object(O.jsx)($.a,{primary:"DashBoard"})]})}),Object(O.jsx)(Y.b,{to:"".concat(t,"/student"),className:e.link,activeClassName:e.activeLink,children:Object(O.jsxs)(J.a,{button:!0,children:[Object(O.jsx)(K.a,{children:Object(O.jsx)(X.a,{})}),Object(O.jsx)($.a,{primary:"Student"})]})})]})})}var te=n(106),ne=n(405),ae=n(397),ce=n(398),re=n.p+"static/media/loading-32.c4bec487.gif",ie=Object(f.a)((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0},card:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",minHeight:"100vh"},image:{width:"100px"}}})),oe=function(e){var t=ie();return Object(O.jsx)(g.a,{className:t.root,id:"box_container",children:Object(O.jsx)(ae.a,{className:t.card,id:"card_container",children:Object(O.jsx)(ce.a,{id:"card_content",children:Object(O.jsx)("img",{src:"".concat(re),alt:"NO MATCH",className:t.image})})})})},se=Object(f.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"rgba(0, 0, 209, 0.2)",borderRadius:4,padding:e.spacing(1,2)},caption:{fontSize:20}}})),le=function(e){var t=e.label,n=e.value,a=e.icon,c=se();return Object(O.jsxs)(g.a,{className:c.root,children:[a,Object(O.jsxs)(g.a,{textAlign:"right",children:[Object(O.jsx)(F.a,{variant:"h6",children:t}),Object(O.jsx)(F.a,{variant:"caption",className:c.caption,children:n})]})]})},ue=Object(I.c)({name:"dashboard",initialState:{loading:!1,statistics:{maleCount:0,femaleCount:0,hightMarkCount:0,lowMarkCount:0},highestStudent:[],lowestStudent:[],rankingByCityList:[]},reducers:{actionFetchData:function(e){e.loading=!0},actionFetchDataSuccess:function(e){e.loading=!1},actionFetchDataFail:function(e){e.loading=!1},actionSetStatistics:function(e,t){e.statistics=t.payload},actionSetHighestStudent:function(e,t){e.highestStudent=t.payload},actionSeLowestStudentt:function(e,t){e.lowestStudent=t.payload},actionSetRankingByCityList:function(e,t){e.rankingByCityList=t.payload}}}),de=ue.actions,je=de.actionFetchData,be=(de.actionFetchDataSuccess,de.actionFetchDataFail),he=de.actionSetStatistics,Oe=de.actionSetHighestStudent,xe=de.actionSeLowestStudentt,me=de.actionSetRankingByCityList,pe=function(e){return e.dashboard.loading},fe=function(e){return e.dashboard.statistics},ge=function(e){return e.dashboard.highestStudent},ve=function(e){return e.dashboard.lowestStudent},ye=function(e){return e.dashboard.rankingByCityList},ke=ue.reducer,Se=n(169),Ce=n.n(Se),we=n(170),_e=n.n(we),Fe=n(171),Ne=n.n(Fe),Le=n(172),Ae=n.n(Le),Be=n(400),Me=n(404),De=n(403),Ie=n(399),ze=n(401),Pe=n(402),Ee=n(185),Te=Object(f.a)({table:{}});function Re(e){var t=e.studentList,n=Te();return Object(O.jsx)(Ie.a,{component:Ee.a,children:Object(O.jsxs)(Be.a,{className:n.table,"aria-label":"simple table",children:[Object(O.jsx)(ze.a,{children:Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(De.a,{children:"# "}),Object(O.jsx)(De.a,{align:"right",children:"Name"}),Object(O.jsx)(De.a,{align:"right",children:"Mark\xa0(g)"})]})}),Object(O.jsx)(Me.a,{children:t.map((function(e,t){return Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(De.a,{component:"th",scope:"row",children:t+1}),Object(O.jsx)(De.a,{align:"right",children:e.name}),Object(O.jsx)(De.a,{align:"right",children:e.mark})]},e.id)}))})]})})}var We=Object(f.a)((function(e){return{roots:{padding:e.spacing(1,2)}}}));function He(e){var t=e.title,n=e.children,a=We();return Object(O.jsxs)(Ee.a,{variant:"outlined",className:a.roots,children:[Object(O.jsx)(F.a,{variant:"h6",children:t}),Object(O.jsx)(g.a,{mt:1,children:n})]})}function Ue(e,t){var n=t.find((function(t){return e===t.code}));return(null===n||void 0===n?void 0:n.name)||"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}var qe=Object(I.c)({name:"city",initialState:{loading:!1,list:[]},reducers:{actionFetchDataCity:function(e){e.loading=!0},actionFetchDataCitySuccess:function(e,t){e.loading=!1,e.list=t.payload.data},actionFetchDataCityFail:function(e){e.loading=!1}}}),Ge=qe.actions,Ve=Ge.actionFetchDataCity,Je=Ge.actionFetchDataCitySuccess,Ke=Ge.actionFetchDataCityFail,$e=function(e){return e.city.list},Qe=qe.reducer;function Xe(e){Object(te.a)(e);var t=M(),n=D(fe),a=n.maleCount,c=n.femaleCount,i=n.hightMarkCount,o=n.lowMarkCount,s=D(pe),l=D(ge),u=D(ve),d=D(ye),j=D($e);return Object(r.useEffect)((function(){t(je()),t(Ve())}),[t]),Object(O.jsxs)(O.Fragment,{children:[s&&Object(O.jsx)(oe,{}),Object(O.jsx)(g.a,{overflow:"hidden",children:Object(O.jsxs)(ne.a,{container:!0,spacing:1,children:[Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:3,children:Object(O.jsx)(le,{value:a,label:"Male Count",icon:Object(O.jsx)(Ce.a,{fontSize:"large"})})}),Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:3,children:Object(O.jsx)(le,{value:c,label:"Female Count",icon:Object(O.jsx)(_e.a,{fontSize:"large"})})}),Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:3,children:Object(O.jsx)(le,{value:i,label:"Mark Up",icon:Object(O.jsx)(Ne.a,{fontSize:"large"})})}),Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:3,children:Object(O.jsx)(le,{value:o,label:" Mark Down",icon:Object(O.jsx)(Ae.a,{fontSize:"large"})})})]})}),Object(O.jsxs)(g.a,{mt:3,overflow:"hidden",children:[Object(O.jsx)(F.a,{variant:"h5",children:"Top 5 Ranking"}),Object(O.jsxs)(ne.a,{container:!0,spacing:2,children:[Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:4,children:Object(O.jsx)(He,{title:"Top 5 Highest",children:Object(O.jsx)(Re,{studentList:l})})}),Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:4,children:Object(O.jsxs)(He,{title:"Top 5 Lowest",children:[" ",Object(O.jsx)(Re,{studentList:u})]})})]})]}),Object(O.jsxs)(g.a,{mt:3,overflow:"hidden",children:[Object(O.jsx)(F.a,{variant:"h5",children:"Top 5 Student in City"}),Object(O.jsx)(ne.a,{container:!0,spacing:2,children:d.map((function(e){return Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,lg:6,children:Object(O.jsxs)(He,{title:Ue(e.cityId,j),children:[" ",Object(O.jsx)(Re,{studentList:e.ListStudent})]})},e.cityId)}))})]})]})}var Ye=n(8),Ze=n.n(Ye),et=n(25),tt=n(176),nt=n.n(tt),at=n(408),ct=n(409),rt=n(183),it=n(406),ot=n(33),st=function(e){var t=e.name,n=e.control,a=e.label,c=Object(rt.a)(e,["name","control","label"]),r=Object(ot.d)({name:t,control:n}),i=r.field,o=i.value,s=i.onBlur,l=i.onChange,u=i.ref,d=r.fieldState,j=d.invalid,b=d.error;return Object(O.jsx)(g.a,{mt:2,children:Object(O.jsx)(it.a,{size:"small",fullWidth:!0,value:o,onChange:l,onBlur:s,label:a,variant:"outlined",error:j,inputRef:u,inputProps:c,helperText:null===b||void 0===b?void 0:b.message})})},lt=n(343),ut=n(345),dt=n(424),jt=n(407),bt=n(420),ht=n(346);function Ot(e){var t=e.name,n=e.control,a=e.label,c=e.options,r=Object(ot.d)({name:t,control:n}),i=r.field,o=i.value,s=i.onChange,l=i.onBlur,u=r.fieldState,d=(u.invalid,u.error);return Object(O.jsx)(g.a,{mt:2,children:Object(O.jsxs)(lt.a,{component:"fieldset",onBlur:l,children:[Object(O.jsx)(ut.a,{component:"legend",children:a}),Object(O.jsx)(dt.a,{"aria-label":"gender",value:o,onChange:s,children:c.map((function(e){return Object(O.jsx)(jt.a,{value:e.value,label:e.label,control:Object(O.jsx)(bt.a,{})})}))}),Object(O.jsx)(ht.a,{children:d})]})})}var xt=n(344),mt=n(348),pt=Object(f.a)((function(e){return Object(w.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})}));function ft(e){var t=e.name,n=e.control,a=e.label,c=e.options,r=pt(),i=Object(ot.d)({name:t,control:n}),o=i.field,s=o.value,l=o.onChange,u=o.onBlur,d=i.fieldState;d.invalid,d.error;return Object(O.jsxs)(lt.a,{className:r.formControl,fullWidth:!0,children:[Object(O.jsx)(xt.a,{htmlFor:"".concat(t,"-select"),children:a}),Object(O.jsxs)(mt.a,{native:!0,value:s,onChange:l,onBlur:u,id:"".concat(t,"-select"),children:[Object(O.jsx)("option",{"aria-label":"None",value:""}),c.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.label})}))]})]})}var gt=n(82),vt=n(182),yt=n(421),kt=gt.b().shape({name:gt.c().required("Please enter your name").test("two-words","Please enter 2 word",(function(e){return!e||e.split(" ").filter((function(e){return Boolean(e)})).length>=2})),age:gt.a().positive("Please enter positive number").min(18,"Min is 18").max(60,"Max is 60").required("Please enter your age").typeError("Please enter number"),mark:gt.a().positive("Please enter positive number").min(0,"Min is 0").max(10,"Max is 10").required("Please enter your mark").typeError("Please enter number"),gender:gt.c().oneOf(["male","female"],"Please select either male or female").required("Please select your gender")});function St(e){var t=e.initialValues,n=e.onbubmit,a=e.error,c=D($e).map((function(e){return{value:e.code,label:e.name}})),r=Object(ot.e)({defaultValues:t,resolver:Object(vt.a)(kt)}),i=r.control,o=r.handleSubmit,s=r.formState.isSubmitting;return Object(O.jsx)(g.a,{width:"40%",margin:"auto",children:Object(O.jsxs)("form",{onSubmit:o(n),children:[Object(O.jsx)(st,{name:"name",control:i,label:"Name"}),Object(O.jsx)(st,{name:"age",control:i,label:"Age"}),Object(O.jsx)(st,{name:"mark",control:i,label:"Mark"}),Object(O.jsx)(Ot,{name:"gender",control:i,label:"Gender",options:[{value:"male",label:"Male"},{value:"female",label:"Female"}]}),Object(O.jsx)(ft,{name:"city",control:i,label:"City",options:c}),a&&Object(O.jsx)(yt.a,{severity:"error",children:"Error connect to server "}),Object(O.jsx)(g.a,{mt:2,children:Object(O.jsxs)(at.a,{variant:"outlined",type:"submit",children:[s&&Object(O.jsx)(ct.a,{size:"small"}),"Save"]})})]})})}var Ct={getAll:function(e){return b.get("/students",{params:e})},getbyId:function(e){var t="/students/"+e;return b.get(t)},addStudent:function(e){return b.post("/students",e)},updateStudent:function(e){var t="/students/".concat(e.id);return b.patch(t,e)},removeStudent:function(e){var t="/students/"+e;return b.delete(t)}};function wt(e){Object(te.a)(e);var t=Object(m.h)().studentId,n=Object(r.useState)(""),a=Object(v.a)(n,2),c=a[0],i=a[1],o=Object(m.g)(),s=Object(r.useState)(),l=Object(v.a)(s,2),d=l[0],j=l[1],b=Boolean(t),h=Object(x.a)({name:"",age:0,mark:0,gender:"male",city:""},d),p=function(){var e=Object(et.a)(Ze.a.mark((function e(t){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("submit",t),e.prev=1,!b){e.next=9;break}return i(""),e.next=6,Ct.updateStudent(t);case 6:o.push("/admin/student"),e.next=13;break;case 9:return i(""),e.next=12,Ct.addStudent(t);case 12:o.push("/admin/student");case 13:u.b.success("Success!"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),i(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){b&&Object(et.a)(Ze.a.mark((function e(){var n;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.getbyId(t.slice(1));case 3:n=e.sent,j(n),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[t]),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(Y.a,{to:"/admin/student",style:{textDecoration:"none"},children:Object(O.jsxs)(F.a,{variant:"caption",style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)(nt.a,{})," Back to list student"]})}),Object(O.jsx)(F.a,{variant:"h5",children:b?"Update Student":"Add Student"}),(!b||Boolean(d))&&Object(O.jsx)(g.a,{mt:3,children:Object(O.jsx)(St,{initialValues:h,onbubmit:p,error:c})})]})}var _t=n(415),Ft=n(178),Nt=n.n(Ft),Lt=n(418),At=n(422),Bt=n(413),Mt=n(411),Dt=n(412),It=n(410),zt=Object(I.c)({name:"student",initialState:{loading:!1,list:[],filter:{_page:1,_limit:10},pagination:{_page:1,_limit:10,_totalRows:10}},reducers:{actionFetchListStudent:function(e,t){e.loading=!0},actionFetchListStudentSuccess:function(e,t){e.loading=!1,e.list=t.payload.data,e.pagination=t.payload.pagination},actionFetchListStudentFail:function(e){e.loading=!1},actionSetFilter:function(e,t){e.filter=t.payload},actionSetFilterDebounce:function(e,t){},actionSetFilterDebounceSuccess:function(e,t){e.filter=Object(x.a)(Object(x.a)({},e.filter),{},{name_like:t.payload,_page:1})}}}),Pt=zt.actions,Et=Pt.actionFetchListStudent,Tt=Pt.actionFetchListStudentSuccess,Rt=Pt.actionFetchListStudentFail,Wt=Pt.actionSetFilter,Ht=Pt.actionSetFilterDebounce,Ut=Pt.actionSetFilterDebounceSuccess,qt=function(e){return e.student.loading},Gt=function(e){return e.student.list},Vt=function(e){return e.student.filter},Jt=function(e){return e.student.pagination},Kt=zt.reducer;function $t(e){var t=e.open,n=e.filter,a=e.currentStudent,c=e.handleClose,r=M(),i=function(){var e=Object(et.a)(Ze.a.mark((function e(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ct.removeStudent(a.id||"");case 3:u.b.success("Remove successfuly!"),c(),r(Et(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)(At.a,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(It.a,{id:"alert-dialog-title",children:"Please Confirm"}),Object(O.jsx)(Mt.a,{children:Object(O.jsxs)(Dt.a,{id:"alert-dialog-description",children:["Are you sure remove '",a.name,"' from list student?"]})}),Object(O.jsxs)(Bt.a,{children:[Object(O.jsx)(at.a,{onClick:i,color:"secondary",autoFocus:!0,children:"Agree"}),Object(O.jsx)(at.a,{onClick:c,color:"primary",children:"Cancle"})]})]})})}var Qt=n(341),Xt=n(414),Yt=n(177),Zt=n.n(Yt);function en(e){e.filter;var t=e.onSearchChange;return Object(O.jsxs)(lt.a,{fullWidth:!0,size:"small",children:[Object(O.jsx)(xt.a,{htmlFor:"standard-adornment-amount",children:"Enter To Search"}),Object(O.jsx)(Qt.a,{id:"standard-adornment-amount",onChange:function(e){return null===t||void 0===t?void 0:t(e)},endAdornment:Object(O.jsx)(Xt.a,{position:"end",children:Object(O.jsx)(Zt.a,{})})})]})}var tn=Object(f.a)((function(e){return Object(w.a)({formControl:{margin:e.spacing(1),minWidth:120}})}));function nn(e){var t=e.filter,n=e.onCityChange,a=e.listCity,c=tn();return Object(O.jsxs)(lt.a,{variant:"outlined",className:c.formControl,size:"small",fullWidth:!0,children:[Object(O.jsx)(xt.a,{htmlFor:"outlined-age-native-simple",children:"City"}),Object(O.jsxs)(mt.a,{native:!0,onChange:n,label:"City",value:t.city||"",inputProps:{name:"age",id:"outlined-age-native-simple"},children:[Object(O.jsx)("option",{value:""}),a.map((function(e){return Object(O.jsx)("option",{value:e.code,children:e.name},e.code)}))]})]})}var an=Object(f.a)((function(e){return Object(w.a)({formControl:{margin:e.spacing(1),minWidth:120}})}));function cn(e){var t=e.filter,n=e.onSortChange,a=an();return Object(O.jsxs)(lt.a,{variant:"outlined",className:a.formControl,size:"small",fullWidth:!0,children:[Object(O.jsx)(xt.a,{htmlFor:"outlined-age-native-simple",children:"Sort"}),Object(O.jsxs)(mt.a,{native:!0,onChange:n,label:"Sort",value:"".concat(t._sort,".").concat(t._order)||"",inputProps:{name:"age",id:"outlined-age-native-simple"},children:[Object(O.jsx)("option",{value:""}),Object(O.jsx)("option",{value:"name.asc",children:"Name ASC"}),Object(O.jsx)("option",{value:"name.desc",children:"Name DESC"}),Object(O.jsx)("option",{value:"mark.asc",children:"Mark ASC"}),Object(O.jsx)("option",{value:"mark.desc",children:"Mark DESC"})]})]})}n(334);var rn=Object(f.a)({table:{},action:{display:"flex"},columId:{maxWidth:"270px",height:"20px",lineHeight:"20px",overflow:"hidden"}});function on(e){var t=e.studentList,n=e.handleClickOpen,a=e.handleEdit,c=rn(),r=D($e);return Object(O.jsx)(Ie.a,{component:Ee.a,children:Object(O.jsxs)(Be.a,{className:c.table,"aria-label":"simple table",children:[Object(O.jsx)(ze.a,{children:Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(De.a,{align:"left",children:"#ID"}),Object(O.jsx)(De.a,{children:"Name"}),Object(O.jsx)(De.a,{children:"Gender"}),Object(O.jsx)(De.a,{children:"Mark"}),Object(O.jsx)(De.a,{children:"City"}),Object(O.jsx)(De.a,{align:"right",children:"Action"})]})}),Object(O.jsx)(Me.a,{children:t.map((function(e,t){return Object(O.jsxs)(Pe.a,{children:[Object(O.jsx)(De.a,{component:"th",align:"left",children:Object(O.jsx)(g.a,{className:c.columId,id:"columId",children:e.id})}),Object(O.jsx)(De.a,{children:e.name}),Object(O.jsx)(De.a,{children:null===e||void 0===e?void 0:e.gender.toUpperCase()}),Object(O.jsx)(De.a,{children:Object(O.jsx)(g.a,{color:(i=e.mark,i>=8?"green":i>=5?"orange":"red"),fontWeight:"bold",children:e.mark})}),Object(O.jsx)(De.a,{children:Ue(e.city,r)}),Object(O.jsxs)(De.a,{align:"right",className:c.action,children:[Object(O.jsx)(at.a,{color:"secondary",size:"small",variant:"outlined",onClick:function(){return n(e)},children:"Remove"}),Object(O.jsx)(at.a,{color:"primary",size:"small",variant:"outlined",onClick:function(){return a(e)},children:"Edit"})]})]},e.id);var i}))})]})})}var sn=Object(f.a)((function(e){return{roots:{padding:e.spacing(1,2)}}}));function ln(e){var t=e.title,n=e.children,a=sn();return Object(O.jsxs)(Ee.a,{variant:"outlined",className:a.roots,children:[Object(O.jsx)(F.a,{variant:"h6",children:t}),Object(O.jsx)(g.a,{mt:1,children:n})]})}var un=Object(f.a)((function(e){return{root:{},pagination:{display:"flex",justifyContent:"center"},gridFilter:{alignItems:"center"}}}));function dn(){var e=un(),t=M(),n=Object(m.g)(),a=D(qt),c=D(Vt),o=D(Gt),s=D(Jt),l=D($e),u=i.a.useState(1),d=Object(v.a)(u,2),j=d[0],b=d[1],h=Object(r.useState)({name:"",age:0,mark:0,gender:"male",city:"hn"}),p=Object(v.a)(h,2),f=p[0],y=p[1],k=i.a.useState(!1),S=Object(v.a)(k,2),C=S[0],w=S[1];Object(r.useEffect)((function(){t(Et(c))}),[t,c]);var _=Object(m.i)().url;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(g.a,{children:[a&&Object(O.jsx)(oe,{}),Object(O.jsxs)(g.a,{id:"title-list",display:"flex",justifyContent:"space-between",overflow:"hidden",children:[Object(O.jsx)(F.a,{variant:"h5",children:"Student List"}),Object(O.jsx)(Y.a,{to:"".concat(_,"/add"),style:{textDecoration:"none"},children:Object(O.jsxs)(_t.a,{color:"primary","aria-label":"add",variant:"extended",size:"small",children:[Object(O.jsx)(Nt.a,{})," Add Student"]})})]}),Object(O.jsx)(g.a,{children:Object(O.jsxs)(ne.a,{container:!0,spacing:2,className:e.gridFilter,children:[Object(O.jsx)(ne.a,{item:!0,xs:12,md:6,children:Object(O.jsx)(en,{filter:c,onSearchChange:function(e){t(Ht(e.target.value))}})}),Object(O.jsx)(ne.a,{item:!0,xs:12,md:3,children:Object(O.jsx)(nn,{onCityChange:function(e){var n=Object(x.a)(Object(x.a)({},c),{},{_page:1,city:e.target.value||void 0});t(Wt(n))},filter:c,listCity:l})}),Object(O.jsx)(ne.a,{item:!0,xs:12,md:2,children:Object(O.jsx)(cn,{filter:c,onSortChange:function(e){var n=e.target.value.split("."),a=Object(v.a)(n,2),r=a[0],i=a[1],o=Object(x.a)(Object(x.a)({},c),{},{_sort:r||void 0,_order:i||void 0});t(Wt(o))}})}),Object(O.jsx)(ne.a,{item:!0,xs:4,md:1,children:Object(O.jsx)(at.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){t(Wt({_page:1,_limit:10,_sort:void 0,_order:void 0,city:void 0,name_like:void 0}))},children:"Clear"})})]})}),Object(O.jsx)(g.a,{mt:2,children:Object(O.jsx)(ln,{title:"",children:Object(O.jsx)(on,{studentList:o,handleClickOpen:function(e){y(e),w(!0)},handleEdit:function(e){n.push("".concat(_,"/edit:").concat(e.id))}})})}),Object(O.jsx)(Lt.a,{count:Math.ceil(s._totalRows/s._limit),color:"primary",size:"large",variant:"outlined",className:e.pagination,shape:"rounded",page:j,onChange:function(e,n){b(n),t(Wt(Object(x.a)(Object(x.a)({},c),{},{_page:n})))}})]}),Object(O.jsx)($t,{filter:c,open:C,currentStudent:f,handleClose:function(){w(!1)}})]})}function jn(){var e=Object(m.i)().url,t=M();return Object(r.useEffect)((function(){t(Ve())}),[t]),Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{path:"".concat(e,"/add"),children:Object(O.jsx)(wt,{})}),Object(O.jsx)(m.b,{path:"".concat(e,"/edit:studentId"),children:Object(O.jsx)(wt,{})}),Object(O.jsx)(m.b,{path:"".concat(e),children:Object(O.jsx)(dn,{})}),Object(O.jsx)(m.b,{path:"*",children:"Not Found"})]})}var bn=Object(f.a)((function(e){return{root:{display:"grid",gridTemplateColumns:"25% 1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"header header" "sidebar main"',minHeight:"100vh"},box1:{gridArea:"header"},box2:{gridArea:"sidebar",border:"1px solid ".concat(e.palette.primary.dark),overflow:"hidden"},box3:{gridArea:"main",padding:e.spacing(1)}}}));function hn(e){var t=Object(m.i)().url,n=bn();return Object(O.jsxs)(g.a,{className:n.root,children:[Object(O.jsx)(g.a,{className:n.box1,children:Object(O.jsx)(G,{})}),Object(O.jsx)(g.a,{className:n.box2,children:Object(O.jsx)(ee,{})}),Object(O.jsx)(g.a,{className:n.box3,children:Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{path:"".concat(t,"/dashboard"),component:Xe}),Object(O.jsx)(m.b,{path:"".concat(t,"/student"),component:jn}),Object(O.jsx)(m.b,{path:"".concat(t),children:Object(O.jsx)(m.a,{to:"".concat(t,"/dashboard")})})]})})]})}var On=Object(f.a)((function(e){return{root:{},box:{width:e.spacing(50),textAlign:"center",padding:"30px"}}})),xn=function(e){var t=On(),n=M(),a=D(H).logging,c=Object(m.g)();return Boolean(localStorage.getItem("access_token"))&&c.push("/admin"),Object(O.jsx)(g.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:Object(O.jsxs)(Ee.a,{elevation:3,className:t.box,children:[Object(O.jsx)(F.a,{variant:"h5",component:"h1",children:"Student Login"}),Object(O.jsx)(g.a,{mt:2,children:Object(O.jsxs)(at.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){n(T({username:"tuananh",password:"ok"}))},children:[a&&Object(O.jsx)(ct.a,{color:"secondary",size:20}),"\xa0 Fake Login"]})})]})})};n(335);var mn=function(){return Object(r.useEffect)((function(){h.getAll().then((function(e){})).catch((function(e){console.log(e)}))}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{path:"/login",component:xn}),Object(O.jsx)(p,{path:"/admin",component:hn}),Object(O.jsx)(m.b,{path:"*",children:Object(O.jsx)(m.a,{to:"/login"})})]})})},pn=n(43);function fn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var gn=Object(I.b)("counter/fetchCount",function(){var e=Object(et.a)(Ze.a.mark((function e(t){var n;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),vn=Object(I.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload},incrementSaga:function(e,t){e.status="loading"},incrementSagaSuccess:function(e,t){e.status="idle",e.value+=t.payload}},extraReducers:function(e){e.addCase(gn.pending,(function(e){e.status="loading"})).addCase(gn.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),yn=vn.actions,kn=(yn.increment,yn.decrement,yn.incrementByAmount,yn.incrementSaga,yn.incrementSagaSuccess,vn.reducer),Sn=n(181),Cn=n(29),wn=n(11),_n=Ze.a.mark(An),Fn=Ze.a.mark(Bn),Nn=Ze.a.mark(Mn),Ln=Ze.a.mark(Dn);function An(e){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.d)(1e3);case 2:return localStorage.setItem("access_token","Ok"),e.next=5,Object(wn.f)(R({id:"2",name:"tuananh"}));case 5:return e.next=7,Object(wn.f)(Object(Cn.d)("/admin/dashboard"));case 7:case"end":return e.stop()}}),_n)}function Bn(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.d)(1e3);case 2:return localStorage.removeItem("access_token"),e.next=5,Object(wn.f)(Object(Cn.d)("/admin"));case 5:case"end":return e.stop()}}),Fn)}function Mn(){var e;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Boolean(localStorage.getItem("access_token"))){t.next=8;break}return t.next=5,Object(wn.g)(T.type);case 5:return e=t.sent,t.next=8,Object(wn.e)(An,e.payload);case 8:return t.next=10,Object(wn.g)(W.type);case 10:return t.next=12,Object(wn.b)(Bn);case 12:t.next=0;break;case 14:case"end":return t.stop()}}),Nn)}function Dn(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.e)(Mn);case 2:case"end":return e.stop()}}),Ln)}var In=Ze.a.mark(Pn),zn=Ze.a.mark(En);function Pn(){var e;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(wn.b)(h.getAll);case 3:return e=t.sent,t.next=6,Object(wn.f)(Je(e));case 6:t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),console.log("day la loi",t.t0),t.next=13,Object(wn.f)(Ke);case 13:case"end":return t.stop()}}),In,null,[[0,8]])}function En(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.h)(Ve.type,Pn);case 2:case"end":return e.stop()}}),zn)}var Tn=Ze.a.mark(Gn),Rn=Ze.a.mark(Vn),Wn=Ze.a.mark(Jn),Hn=Ze.a.mark(Kn),Un=Ze.a.mark($n),qn=Ze.a.mark(Qn);function Gn(){var e,t,n,a,c,r,i;return Ze.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(wn.a)([Object(wn.b)(Ct.getAll,{_page:1,_limit:1,gender:"male"}),Object(wn.b)(Ct.getAll,{_page:1,_limit:1,gender:"female"}),Object(wn.b)(Ct.getAll,{_page:1,_limit:1,mark_gte:8}),Object(wn.b)(Ct.getAll,{_page:1,_limit:1,mark_lte:5})]);case 2:return e=o.sent,t=e.map((function(e){return e.pagination._totalRows})),n=Object(v.a)(t,4),a=n[0],c=n[1],r=n[2],i=n[3],o.next=7,Object(wn.f)(he({maleCount:a,femaleCount:c,hightMarkCount:r,lowMarkCount:i}));case 7:case"end":return o.stop()}}),Tn)}function Vn(){var e,t;return Ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(wn.b)(Ct.getAll,{_page:1,_limit:5,_sort:"mark",_order:"desc"});case 2:return e=n.sent,t=e.data,n.next=6,Object(wn.f)(Oe(t));case 6:case"end":return n.stop()}}),Rn)}function Jn(){var e,t;return Ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(wn.b)(Ct.getAll,{_page:1,_limit:5,_sort:"mark",_order:"asc"});case 2:return e=n.sent,t=e.data,n.next=6,Object(wn.f)(xe(t));case 6:case"end":return n.stop()}}),Wn)}function Kn(){var e,t,n,a,c;return Ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(wn.b)(h.getAll);case 2:return e=r.sent,t=e.data,r.next=6,Object(wn.b)(Ct.getAll,{_page:1,_limit:1e3});case 6:return n=r.sent,a=n.data,c=[],t.forEach((function(e){var t=a.filter((function(t){return t.city===e.code}));t=t.slice(0,5).sort((function(e,t){return t.mark-e.mark}));var n={cityId:e.code,ListStudent:t};c.push(n)})),r.next=12,Object(wn.f)(me(c));case 12:case"end":return r.stop()}}),Hn)}function $n(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(wn.a)([Object(wn.b)(Gn),Object(wn.b)(Vn),Object(wn.b)(Jn),Object(wn.b)(Kn)]);case 3:return e.next=5,Object(wn.f)(be());case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(wn.f)(be());case 11:console.log(e.t0);case 12:case"end":return e.stop()}}),Un,null,[[0,7]])}function Qn(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Ok"),e.next=3,Object(wn.h)(je.type,$n);case 3:case"end":return e.stop()}}),qn)}var Xn=Ze.a.mark(ea),Yn=Ze.a.mark(ta),Zn=Ze.a.mark(na);function ea(e){var t;return Ze.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(wn.b)(Ct.getAll,e.payload);case 3:return t=n.sent,n.next=6,Object(wn.f)(Tt(t));case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(0),console.log("loi cua ban la",n.t0),n.next=13,Object(wn.f)(Rt());case 13:case"end":return n.stop()}}),Xn,null,[[0,8]])}function ta(e){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Debounce data",e.payload),t.next=3,Object(wn.f)(Ut(e.payload));case 3:case"end":return t.stop()}}),Yn)}function na(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.h)(Et.type,ea);case 2:return e.next=4,Object(wn.c)(1e3,Ht.type,ta);case 4:case"end":return e.stop()}}),Zn)}var aa=Ze.a.mark(ca);function ca(){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(wn.a)([Dn(),Qn(),na(),En()]);case 2:case"end":return e.stop()}}),aa)}var ra=n(161),ia=n(34),oa=Object(Sn.a)(),sa=Object(ia.a)(),la=Object(pn.b)({router:Object(c.b)(sa),counter:kn,auth:U,dashboard:ke,student:Kt,city:Qe}),ua=Object(I.a)({reducer:la,middleware:function(e){return e({thunk:!0,immutableCheck:!0,serializableCheck:!0}).concat(oa,Object(ra.a)(sa))},devTools:!0});oa.run(ca);n(336),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(337);s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsxs)(l.a,{store:ua,children:[Object(O.jsxs)(c.a,{history:sa,children:[Object(O.jsx)(a.a,{}),Object(O.jsx)(mn,{})]}),Object(O.jsx)(u.a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[338,1,2]]]);
//# sourceMappingURL=main.fd882a1c.chunk.js.map